name: coffea_latest
channels:
  - conda-forge
dependencies:
  - python
  - pip

  # HEP
  - coffea==2025.3.0
  - awkward
  - uproot
  - hist
  - mplhep
  - uncertainties
  - lmfit
  - correctionlib==2.6.4
  - hepconvert

  # ROOT
  - root==6.32.02
  - root_base==6.32.02
  - boost
  - eigen
  - gsl
  - pcre
  - tbb
  - vdt

  # ML
  - xgboost

  # Tools
  - dask
  - dask-gateway
  - dask-awkward==2025.5.0
  - prometheus_client
  - xrootd
  - ipywidgets
  - ipykernel
  - omegaconf
  - seaborn

  - libnvjitlink-dev

  - pip:
    - rucio-clients==33.3.0
    - fsspec-xrootd
    - torch
    - cmsstyle
    - scikit-hep-testdata
    - graphviz

variables:
  LD_LIBRARY_PATH: /depot/cms/kernels/coffea_latest/lib/python3.11/site-packages/nvidia/nvjitlink/lib/:/usr/local/cuda-12.2/lib64:/depot/cms/purdue-af/combine/HiggsAnalysis/CombinedLimit/build/lib:/depot/cms/purdue-af/roofit-batchcompute/build/
  PYTHONPATH: /depot/cms/kernels/coffea_latest/bin